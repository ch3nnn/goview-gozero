var ft=Object.defineProperty,mt=Object.defineProperties;var Ct=Object.getOwnPropertyDescriptors;var je=Object.getOwnPropertySymbols;var yt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var Je=(e,o,s)=>o in e?ft(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s,A=(e,o)=>{for(var s in o||(o={}))yt.call(o,s)&&Je(e,s,o[s]);if(je)for(var s of je(o))St.call(o,s)&&Je(e,s,o[s]);return e},fe=(e,o)=>mt(e,Ct(o));var de=(e,o,s)=>new Promise((_,t)=>{var h=p=>{try{v(s.next(p))}catch(i){t(i)}},l=p=>{try{v(s.throw(p))}catch(i){t(i)}},v=p=>p.done?_(p.value):Promise.resolve(p.value).then(h,l);v((s=s.apply(e,o)).next())});import{m as Ke,a2 as at,cU as xt,aL as Xe,cV as F,bg as He,ab as Tt,d as j,bf as he,O as ge,a1 as M,o as w,c as Y,a as Fe,F as re,q as ue,av as ne,au as q,u as a,a6 as $e,n as $,h as ee,aD as rt,D as B,w as x,E as _e,ax as Be,aB as ke,aC as Ne,ay as ct,aa as Z,a0 as lt,l as ze,ac as Ze,J as ae,aw as it,r as D,cW as wt,$ as ye,j as X,cX as Qe,s as Me,x as Re,b as T,g as bt,e as ve,t as Q,aY as Et,cH as N,cI as K,aZ as pe,cG as Lt,Q as be,U as Ee,b9 as kt,cY as It,aK as Dt,cZ as $t,ad as Mt,c_ as Rt,B as Ut,ag as et,bk as Ot,M as Ht,c$ as At,aM as Pt,N as Yt,aj as Xt,ak as we,aJ as Ae,d0 as Bt,bw as Nt}from"./index-312a31dd.js";import{u as We,d as Gt}from"./index-3c708b96.js";import{u as te,f as V,h as I,i as Le,a as Kt}from"./chartEditStore-32c50897.js";import{e as Ft,l as Ie,S as zt}from"./index-5e1011db.js";import{a as Wt}from"./useKeyboard.hook-f1be3c56.js";import{u as ut}from"./useSync.hook-4d532843.js";import{a as Vt,b as tt,l as qt,g as jt}from"./plugin-aa00071a.js";import{C as Jt}from"./index-ffd25867.js";import"./querySelectorAll-a1c431d2.js";import{l as ot}from"./listen-92ff7612.js";import{u as dt,C as pt}from"./chartLayoutStore-a3dfb071.js";import{i as le}from"./icon-ce016406.js";import{G as Zt}from"./index.vue_vue_type_script_setup_true_lang-cdfd7702.js";import{F as st}from"./fileTypeEnum-21359a08.js";import{u as Qt}from"./useSyncUpdate.hook-4b2b135f.js";import"./index-d277f175.js";import"./SettingItem-dba63559.js";/* empty css                                                                      */import"./SettingItemBox-19ac3d74.js";import"./CollapseItem.vue_vue_type_script_setup_true_lang-da631111.js";import"./index.esm.min-f20ed2aa.js";import"./project.api-bec812dd.js";const me=te(),eo=e=>{let o=()=>{};Ke(()=>de(void 0,null,function*(){me.setEditCanvas(V.EDIT_LAYOUT_DOM,document.getElementById("go-chart-edit-layout")),me.setEditCanvas(V.EDIT_CONTENT_DOM,document.getElementById("go-chart-edit-content")),yield e(),o=me.listenerScale()})),at(()=>{me.setEditCanvas(V.EDIT_LAYOUT_DOM,null),me.setEditCanvas(V.EDIT_CONTENT_DOM,null),o()})},S=te(),{onClickOutSide:to}=We(),oo=e=>de(void 0,null,function*(){e.preventDefault();try{Vt();const o=e.dataTransfer.getData(xt.DRAG_KEY);if(!o){tt();return}S.setEditCanvas(V.IS_CREATE,!1);const s=Xe(o);if(s.disabled)return;let _=yield Ft(s);s.redirectComponent&&(s.dataset&&(_.option.dataset=s.dataset),_.chartConfig.title=s.title,_.chartConfig.chartFrame=s.chartFrame),F(_,e.offsetX-_.attr.w/2,e.offsetY-_.attr.h/2),S.addComponentList(_,!1,!0),S.setTargetSelectChart(_.id),tt()}catch(o){qt(),window.$message.warning("å›¾è¡¨æ­£åœ¨ç ”å‘ä¸­, æ•¬è¯·æœŸå¾…...")}}),nt=e=>{e.preventDefault(),e.stopPropagation(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy")},_t=(e,o)=>{if(o){S.setTargetSelectChart(o.id);return}S.setTargetSelectChart(void 0)},so=(e,o)=>{var i;if(e.which==2||(i=window.$KeyboardActive)!=null&&i.space)return;_t();const s=e.offsetX,_=e.offsetY,t=e.screenX,h=e.screenY,l=S.getEditCanvas.scale;S.setMousePosition(void 0,void 0,s,_);const v=Ie.throttle(d=>{S.setTargetSelectChart(),S.setEditCanvas(V.IS_SELECT,!0);const r=s+d.screenX-t,n=_+d.screenY-h;S.setMousePosition(r,n);const g={x1:0,y1:0,x2:0,y2:0};r>s&&n>_?(g.x1=s,g.y1=_,g.x2=Math.round(s+(d.screenX-t)/l),g.y2=Math.round(_+(d.screenY-h)/l)):r>s&&n<_?(g.x1=s,g.y1=Math.round(_-(h-d.screenY)/l),g.x2=Math.round(s+(d.screenX-t)/l),g.y2=_):r<s&&n>_?(g.x1=Math.round(s-(t-d.screenX)/l),g.y1=_,g.x2=s,g.y2=Math.round(_+(d.screenY-h)/l)):(g.x1=Math.round(s-(t-d.screenX)/l),g.y1=Math.round(_-(h-d.screenY)/l),g.x2=s,g.y2=_),S.getComponentList.forEach(u=>{if(!S.getTargetChart.selectId.includes(u.id)){const{x:c,y:C,w:f,h:b}=u.attr,E={x1:c,y1:C,x2:c+f,y2:C+b};E.x1-g.x1>=0&&E.y1-g.y1>=0&&E.x2-g.x2<=0&&E.y2-g.y2<=0&&!u.status.lock&&!u.status.hide&&S.setTargetSelectChart(u.id,!0)}})},30),p=()=>{v.cancel(),S.setEditCanvas(V.IS_SELECT,!1),S.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",p)};document.addEventListener("mousemove",v),document.addEventListener("mouseup",p)},vt=()=>({mouseClickHandle:(t,h)=>{var l;if(t.preventDefault(),t.stopPropagation(),!h.status.lock&&(l=window.$KeyboardActive)!=null&&l.ctrl)if(S.targetChart.selectId.includes(h.id)){const v=S.targetChart.selectId.filter(p=>p!==h.id);S.setTargetSelectChart(v)}else S.setTargetSelectChart(h.id,!0)},mousedownHandle:(t,h)=>{var C;if(t.preventDefault(),t.stopPropagation(),h.status.lock||(to(),t.buttons===He.LEFT&&((C=window.$KeyboardActive)!=null&&C.ctrl)))return;const l=S.getTargetChart.selectId;if(t.buttons===He.RIGHT&&l.length>1&&l.includes(h.id)||(S.setTargetSelectChart(h.id),t.buttons===He.RIGHT))return;const v=S.getEditCanvas.scale,p=S.getEditCanvasConfig.width,i=S.getEditCanvasConfig.height,d=new Map;S.getTargetChart.selectId.forEach(f=>{const b=S.fetchTargetIndex(f);if(b!==-1){const{x:E,y:k,w:O,h:G}=Tt(S.getComponentList[b]).attr;d.set(f,{x:E,y:k,w:O,h:G})}});const r=t.screenX,n=t.screenY;let g=[];S.getTargetChart.selectId.forEach(f=>{if(!d.has(f))return;const b=S.fetchTargetIndex(f);g.push(Ie.cloneDeep(S.getComponentList[b]))}),S.setMousePosition(void 0,void 0,r,n);const u=Ie.throttle(f=>{S.setEditCanvas(V.IS_DRAG,!0),S.setMousePosition(f.screenX,f.screenY);let b=(f.screenX-r)/v,E=(f.screenY-n)/v;S.getTargetChart.selectId.forEach(k=>{if(!d.has(k))return;const O=S.fetchTargetIndex(k),{x:G,y:se,w:P,h:m}=d.get(k),R=S.getComponentList[O];let y=Math.round(G+b),L=Math.round(se+E);const U=50;y=y<-P+U?-P+U:y,L=L<-m+U?-m+U:L,y=y>p-U?p-U:y,L=L>i-U?i-U:L,R&&(R.attr=Object.assign(R.attr,{x:y,y:L}))})},20),c=()=>{try{if(S.setMousePosition(0,0,0,0),S.setEditCanvas(V.IS_DRAG,!1),g.length){S.getTargetChart.selectId.forEach(b=>{if(!d.has(b))return;const E=S.fetchTargetIndex(b),k=S.getComponentList[E];g.forEach(O=>{O.id===b&&(O.attr=Object.assign(O.attr,{offsetX:k.attr.x-O.attr.x,offsetY:k.attr.y-O.attr.y}))})});const f=g.filter(b=>b.attr.offsetX!==0&&b.attr.offsetY!==0);f.length&&S.moveComponentList(f)}document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",c)}catch(f){console.log(f)}};document.addEventListener("mousemove",u),document.addEventListener("mouseup",c)},mouseenterHandle:(t,h)=>{t.preventDefault(),t.stopPropagation(),S.getEditCanvas.isSelect||S.setTargetHoverChart(h.id)},mouseleaveHandle:(t,h)=>{t.preventDefault(),t.stopPropagation(),S.setEditCanvas(V.IS_DRAG,!1),S.setTargetHoverChart(void 0)}}),no=(e,o,s)=>{e.stopPropagation(),e.preventDefault(),S.setEditCanvas(V.IS_DRAG,!0);const _=S.getEditCanvas.scale,t=s.x,h=s.y,l=s.w,v=s.h,p=e.screenX,i=e.screenY;S.setMousePosition(p,i);const d=Ie.throttle(n=>{S.setMousePosition(n.screenX,n.screenY);let g=Math.round((n.screenX-p)/_),u=Math.round((n.screenY-i)/_);const c=/t/.test(o),C=/b/.test(o),f=/l/.test(o),b=/r/.test(o),E=v+(c?-u:C?u:0),k=l+(f?-g:b?g:0);s.h=E>0?E:0,s.w=k>0?k:0,s.x=t+(f?g:0),s.y=h+(c?u:0)},50),r=()=>{S.setEditCanvas(V.IS_DRAG,!1),S.setMousePosition(0,0,0,0),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",r)},De=(e,o)=>e?{zIndex:o+1,left:`${e.x}px`,top:`${e.y}px`}:{},ie=(e,o)=>e?{width:`${o?o*e.w:e.w}px`,height:`${o?o*e.h:e.h}px`}:{},ao=(e,o,s,_)=>{const{w:t,h}=s,l=/t/.test(e),v=/b/.test(e),p=/l/.test(e),i=/r/.test(e);let d=0,r=0;return e.length===2?(d=p?0:t,r=l?0:h):((l||v)&&(d=t/2,r=l?0:h),(p||i)&&(d=p?0:t,r=Math.floor(h/2))),{left:`${d}px`,top:`${r}px`,cursor:_[o]+"-resize"}},ro=["onMousedown"],co=j({__name:"index",props:{item:{type:Object,required:!0},hiddenPoint:{type:Boolean,required:!1}},setup(e){he(r=>({"2d925dfa":l.value}));const o=e,s=ge(),_=te(),t=["t","r","b","l","lt","rt","lb","rb"],h=["n","e","s","w","nw","ne","sw","se"],l=M(()=>s.getAppTheme),v=M(()=>_.getEditCanvas[V.IS_DRAG]||o.item.status.lock?!1:o.item.id===_.getTargetChart.hoverId),p=M(()=>{const r=o.item.id;return o.item.status.lock?!1:_.getTargetChart.selectId.find(n=>n===r)}),i=M(()=>o.item.status.lock),d=M(()=>o.item.status.hide);return(r,n)=>(w(),Y("div",{class:ne(["go-shape-box",{lock:i.value,hide:d.value}])},[Fe(r.$slots,"default",{},void 0,!0),e.hiddenPoint?$e("",!0):(w(!0),Y(re,{key:0},ue(p.value?t:[],(g,u)=>(w(),Y("div",{class:ne(`shape-point ${g}`),key:u,style:q(a(ao)(g,u,e.item.attr,h)),onMousedown:c=>a(no)(c,g,e.item.attr)},null,46,ro))),128)),$("div",{class:"shape-modal",style:q(a(ie)(e.item.attr))},[$("div",{class:ne(["shape-modal-select",{active:p.value}])},null,2),$("div",{class:ne(["shape-modal-change",{selectActive:p.value,hoverActive:v.value}])},null,2)],4)],2))}});const Ge=ee(co,[["__scopeId","data-v-25c3c11c"]]),lo={class:"go-edit-group-box"},io=j({__name:"index",props:{groupData:{type:Object,required:!0},groupIndex:{type:Number,required:!0}},setup(e){const o=te(),{handleContextMenu:s}=We(),{mouseenterHandle:_,mouseleaveHandle:t,mousedownHandle:h,mouseClickHandle:l}=vt(),v=(d,r,n)=>{const g=u=>r.filter(c=>u.includes(c.key));if(o.getTargetChart.selectId.length>1)return g([Z.GROUP,Z.DELETE]);{const u=[];n.status.lock?u.push(Z.LOCK):u.push(Z.UNLOCK),n.status.hide?u.push(Z.HIDE):u.push(Z.SHOW);const c=[Z.UN_GROUP];return[...g(c),Gt(),...d.filter(C=>!u.includes(C.key))]}},p=M(()=>rt(o.getEditCanvasConfig.chartCustomThemeColorInfo)[o.getEditCanvasConfig.chartThemeColor]),i=M(()=>o.getEditCanvasConfig.chartThemeSetting);return(d,r)=>(w(),Y("div",lo,[(w(),B(a(Ge),{key:e.groupData.id,"data-id":e.groupData.id,index:e.groupIndex,item:e.groupData,hiddenPoint:!0,class:ne(a(Be)(e.groupData.styles.animations)),style:q(A(A(A(A(A({},a(De)(e.groupData.attr,e.groupIndex)),a(ie)(e.groupData.attr)),a(ke)(e.groupData.styles)),a(Ne)(e.groupData.styles)),a(ct)(e.groupData.styles))),onClick:r[0]||(r[0]=n=>a(l)(n,e.groupData)),onMousedown:r[1]||(r[1]=n=>a(h)(n,e.groupData)),onMouseenter:r[2]||(r[2]=n=>a(_)(n,e.groupData)),onMouseleave:r[3]||(r[3]=n=>a(t)(n,e.groupData)),onContextmenu:r[4]||(r[4]=n=>a(s)(n,e.groupData,v))},{default:x(()=>[(w(!0),Y(re,null,ue(e.groupData.groupList,n=>(w(),B(a(Ge),{key:n.id,"data-id":n.id,index:e.groupIndex,item:n,hiddenPoint:!0,style:q(A({},a(De)(n.attr,e.groupIndex)))},{default:x(()=>[(w(),B(_e(n.chartConfig.chartKey),{class:ne(["edit-content-chart",a(Be)(n.styles.animations)]),chartConfig:n,themeSetting:i.value,themeColor:p.value,style:q(A(A(A({},a(ie)(n.attr)),a(ke)(n.styles)),a(Ne)(n.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","item","style"]))),128))]),_:1},8,["data-id","index","item","class","style"]))]))}}),uo={class:"go-edit-align-line"},po=j({__name:"index",setup(e){he(u=>({"2a25621e":l.value}));const o=ge(),s=te(),_=lt(),t=ze({lineArr:["rowt","rowc","rowb","coll","colc","colr"],select:new Map,sorptioned:{x:!1,y:!1}}),h=u=>u?{left:`${u.x?u.x:0}px`,top:`${u.y?u.y:0}px`}:{},l=M(()=>o.getAppTheme),v=M(()=>_.getChartAlignRange),p=M(()=>s.getEditCanvas[V.IS_DRAG]),i=(u,c)=>Math.abs(u-c)<=v.value,d=M(()=>s.getTargetChart.selectId),r=M(()=>s.getComponentList[s.fetchTargetIndex()]),n=M(()=>{var u;return((u=r.value)==null?void 0:u.attr)||{}}),g=M(()=>({id:"0",attr:{w:Ze(s.getEditCanvasConfig.width),h:Ze(s.getEditCanvasConfig.height),x:0,y:0,offsetX:0,offsetY:0,zIndex:0}}));return ae(()=>s.getMousePosition,it(()=>{try{if(!p.value||d.value.length!==1)return;const u=n.value.w,c=n.value.h,C=n.value.x,f=C+u/2,b=C+u,E=[C,f,b],k=n.value.y,O=k+c/2,G=k+c,se=[k,O,G];t.select.clear(),t.sorptioned.y=!1;const P=s.getComponentList.map(m=>({id:m.id,attr:m.attr}));P.push(g.value),t.lineArr.forEach(m=>{P.forEach(R=>{if(d.value[0]===R.id)return;const y=R.attr.w,L=R.attr.h,U=R.attr.x,W=U+y/2,H=U+y,Se=[U,W,H],z=R.attr.y,J=z+L/2,oe=z+L,qe=[z,J,oe];m.includes("rowt")&&(i(k,z)&&(t.select.set(m,{y:z}),F(r.value,C,z)),i(k,J)&&(t.select.set(m,{y:J}),F(r.value,C,J)),i(k,oe)&&(t.select.set(m,{y:oe}),F(r.value,C,oe))),m.includes("rowc")&&(i(O,z)&&(t.select.set(m,{y:z}),F(r.value,C,z-c/2)),i(O,J)&&(t.select.set(m,{y:J}),F(r.value,C,J-c/2)),i(O,oe)&&(t.select.set(m,{y:oe}),F(r.value,C,oe-c/2))),m.includes("rowb")&&(i(G,z)&&(t.select.set(m,{y:z}),F(r.value,C,z-c)),i(G,J)&&(t.select.set(m,{y:J}),F(r.value,C,J-c)),i(G,oe)&&(t.select.set(m,{y:oe}),F(r.value,C,oe-c))),m.includes("coll")&&(i(C,U)&&(t.select.set(m,{x:U}),F(r.value,U,k)),i(C,W)&&(t.select.set(m,{x:W}),F(r.value,W,k)),i(C,H)&&(t.select.set(m,{x:H}),F(r.value,H,k))),m.includes("colc")&&(i(f,U)&&(t.select.set(m,{x:U}),F(r.value,U-u/2,k)),i(f,W)&&(t.select.set(m,{x:W}),F(r.value,W-u/2,k)),i(f,H)&&(t.select.set(m,{x:H}),F(r.value,H-u/2,k))),m.includes("colr")&&(i(b,U)&&(t.select.set(m,{x:U}),F(r.value,U-u,k)),i(b,W)&&(t.select.set(m,{x:W}),F(r.value,W-u,k)),i(b,H)&&(t.select.set(m,{x:H}),F(r.value,H-u,k)))})})}catch(u){console.log(u)}},200),{deep:!0}),ae(()=>p.value,u=>{u||(t.select.clear(),t.sorptioned.y=!1)}),(u,c)=>(w(),Y("div",uo,[(w(!0),Y(re,null,ue(t.lineArr,C=>(w(),Y("div",{class:ne(["line",[C.includes("row")?"row":"col",t.select.has(C)&&"visible"]]),key:C,style:q(h(t.select.get(C)))},null,6))),128))]))}});const _o=ee(po,[["__scopeId","data-v-792c43f5"]]),vo=j({__name:"index",setup(e){return(o,s)=>{const _=D("n-watermark");return w(),B(_,{id:"go-edit-watermark",content:a(wt),cross:"",selectable:"","font-size":16,"line-height":16,width:500,height:150,"x-offset":12,"y-offset":80,rotate:-15},null,8,["content"])}}});const ho=ee(vo,[["__scopeId","data-v-15e7d440"]]),ht=e=>(Me("data-v-fd03a995"),e=e(),Re(),e),go=ht(()=>$("div",{class:"select-background"},null,-1)),fo=ht(()=>$("div",{class:"select-border"},null,-1)),mo=[go,fo],Co=j({__name:"index",setup(e){he(v=>({"3a6a09b6":h.value}));const o=ge(),s=te(),{isSelect:_,scale:t}=ye(s.getEditCanvas),h=M(()=>o.getAppTheme),l=X();return ae(()=>s.getMousePosition,v=>{if(!_.value)return;const{startX:p,startY:i,x:d,y:r}=v,n={zIndex:Qe,x:0,y:0,w:0,h:0,offsetX:0,offsetY:0};d>p&&r>i?(n.x=p,n.y=i,n.w=Math.round((d-p)/t.value),n.h=Math.round((r-i)/t.value)):d>p&&r<i?(n.x=p,n.w=Math.round((d-p)/t.value),n.h=Math.round((i-r)/t.value),n.y=i-n.h):d<p&&r>i?(n.y=i,n.w=Math.round((p-d)/t.value),n.h=Math.round((r-i)/t.value),n.x=p-n.w):(n.w=Math.round((p-d)/t.value),n.h=Math.round((i-r)/t.value),n.x=p-n.w,n.y=i-n.h),l.value=A(A({},De(n,Qe)),ie(n))},{deep:!0}),(v,p)=>a(_)?(w(),Y("div",{key:0,class:"go-edit-select",style:q(l.value)},mo,4)):$e("",!0)}});const yo=ee(Co,[["__scopeId","data-v-fd03a995"]]),So=j({__name:"index",setup(e){const o=te(),{getEditCanvasConfig:s,getEditCanvas:_}=ye(o),t=M(()=>({w:s.value.width,h:s.value.height})),h=M(()=>{const v={transform:`scale(${_.value.scale})`};return A(A({},ie(t.value)),v)}),l=M(()=>{const v=_.value.isCreate&&{"z-index":99999};return A(A({},ie(t.value)),v)});return(v,p)=>(w(),Y("div",{class:"go-edit-range go-transition",style:q(h.value),onMousedown:p[0]||(p[0]=i=>a(so)(i,void 0))},[Fe(v.$slots,"default",{},void 0,!0),T(a(ho)),T(a(_o)),T(a(yo)),$("div",{class:"go-edit-range-model",style:q(l.value)},null,4)],36))}});const xo=ee(So,[["__scopeId","data-v-d34efa6e"]]),To={class:"go-sketch-rule"},Pe=20,wo=j({__name:"index",setup(e){he(y=>({"72798b56":k.value,"1b47bf80":b.value,"26ca27c0":r.value}));const o=te(),s=dt(),_=ge();let t=[0,0],h=[0,0];const l=X(),v=X(!0),p=X(),i=X(),d=X(!1),r=X("auto"),{width:n,height:g}=ye(o.getEditCanvasConfig),u=X(0),c=X(0),C=ze({h:[],v:[]}),f=M(()=>o.getEditCanvas.scale),b=M(()=>`${g.value*2}px`),E=M(()=>_.getDarkTheme?{bgColor:"#18181c",longfgColor:"#4d4d4d",shortfgColor:"#4d4d4d",fontColor:"#4d4d4d",shadowColor:"#18181c",borderColor:"#18181c",cornerActiveColor:"#18181c"}:{}),k=M(()=>_.getAppTheme),O=y=>{if(y.ctrlKey||y.metaKey){y.preventDefault();let L=f.value;if(y.wheelDelta>=0&&f.value<2){L=f.value+.05,o.setScale(L);return}y.wheelDelta<0&&f.value>.1&&(L=f.value-.05,o.setScale(L))}},G=()=>{if(!l.value)return;const y=l.value.getBoundingClientRect(),L=p.value.getBoundingClientRect();u.value=(y.left+Pe-L.left)/f.value,c.value=(y.top+Pe-L.top)/f.value},se=y=>{var Se,z;if(y.preventDefault(),y.stopPropagation(),y.which==2)d.value=!0;else if(!((Se=window.$KeyboardActive)!=null&&Se.space))return;(z=document.activeElement)==null||z.blur();const L=y.pageX,U=y.pageY,W=ot(window,"mousemove",J=>{const oe=J.pageX-L,qe=J.pageY-U,[Ue,xe]=t,[Oe,Te]=h;t=[xe,oe],h=[Te,qe],l.value.scrollLeft-=xe>Ue?Math.abs(xe-Ue):-Math.abs(xe-Ue),l.value.scrollTop-=Te>Oe?Math.abs(Te-Oe):-Math.abs(Te-Oe)}),H=ot(window,"mouseup",()=>{W(),H(),t=[0,0],h=[0,0],d.value=!1})},P=()=>{const y=document.getElementById("go-chart-edit-layout");return y?{height:y.clientHeight-20,width:y.clientWidth-20}:{width:n.value,height:g.value}},m=()=>{v.value=!1,setTimeout(()=>{v.value=!0},10)},R=()=>{const{width:y,height:L}=i.value.getBoundingClientRect(),{width:U,height:W}=P();l.value.scrollLeft=y/2-U/2,l.value.scrollTop=L/2-W/2};return ae(()=>_.getDarkTheme,()=>{m()}),ae(()=>f.value,(y,L)=>{L!==y&&s.getRePositionCanvas?(s.setItemUnHandle(pt.RE_POSITION_CANVAS,!1),G(),setTimeout(()=>{R(),m()},400)):it(m,20)}),ae(()=>d.value,y=>{r.value=y?"grab":"auto"}),Ke(()=>{l.value&&(l.value.addEventListener("wheel",O,{passive:!1}),R())}),at(()=>{l.value&&l.value.removeEventListener("wheel",O)}),window.onKeySpacePressHold=y=>{d.value=y},(y,L)=>{const U=D("sketch-rule");return w(),Y("div",To,[v.value?(w(),B(U,{key:0,thick:Pe,scale:f.value,width:P().width,height:P().height,startX:u.value,startY:c.value,lines:C,palette:E.value},null,8,["scale","width","height","startX","startY","lines","palette"])):$e("",!0),$("div",{ref_key:"$app",ref:l,class:"edit-screens",onScroll:G},[$("div",{ref_key:"$container",ref:i,class:"edit-screen-container",style:q({width:a(n)*2+"px"})},[$("div",{ref_key:"refSketchRuleBox",ref:p,class:"canvas",onMousedown:se,style:q({marginLeft:"-"+(P().width/2-25)+"px"})},[$("div",{style:q({pointerEvents:d.value?"none":"auto"})},[Fe(y.$slots,"default",{},void 0,!0)],4)],36)],4)],544)])}}});const bo=ee(wo,[["__scopeId","data-v-db14b1b7"]]),Ye={[I.ADD]:"æ–°å¢ž",[I.DELETE]:"åˆ é™¤",[I.UPDATE]:"æ›´æ–°",[I.MOVE]:"ç§»åŠ¨",[I.PASTE]:"ç²˜è´´",[I.COPY]:"å¤åˆ¶",[I.CUT]:"å‰ªåˆ‡",[I.TOP]:"ç½®é¡¶",[I.BOTTOM]:"ç½®åº•",[I.UP]:"ä¸Šç§»",[I.DOWN]:"ä¸‹ç§»",[I.GROUP]:"æˆç»„",[I.UN_GROUP]:"è§£ç»„",[I.LOCK]:"é”å®š",[I.UNLOCK]:"è§£é”",[I.HIDE]:"éšè—",[I.SHOW]:"æ˜¾ç¤º",[Le.CANVAS]:"ç”»å¸ƒåˆå§‹åŒ–"};var Eo=Array.prototype,Lo=Eo.reverse;function ko(e){return e==null?e:Lo.call(e)}var Io=ko;const Do=bt(Io),gt=e=>(Me("data-v-78517dbe"),e=e(),Re(),e),$o={class:"go-flex-items-center"},Mo=gt(()=>$("span",{class:"btn-text"},"åŽ†å²è®°å½•",-1)),Ro={class:"history-list-box"},Uo=["title"],Oo=gt(()=>$("div",{class:"popover-modal"},null,-1)),Ho=j({__name:"index",setup(e){const{DesktopOutlineIcon:o,PencilIcon:s,TrashIcon:_,CopyIcon:t,LayersIcon:h,DuplicateIcon:l,HelpOutlineIcon:v,LockClosedOutlineIcon:p,LockOpenOutlineIcon:i,EyeOffOutlineIcon:d,EyeOutlineIcon:r}=le.ionicons5,{StackedMoveIcon:n,Carbon3DCursorIcon:g,Carbon3DSoftwareIcon:u}=le.carbon,c=Kt(),C=E=>{if(E.targetType===Le.CANVAS)return o;switch(E.actionType){case I.UPDATE:return s;case I.DELETE:return _;case I.PASTE:return t;case I.TOP:return h;case I.BOTTOM:return h;case I.UP:return h;case I.DOWN:return h;case I.MOVE:return n;case I.ADD:return l;case I.GROUP:return g;case I.UN_GROUP:return u;case I.LOCK:return p;case I.UNLOCK:return i;case I.HIDE:return d;case I.SHOW:return r;default:return s}},f=E=>{if(E.targetType===Le.CANVAS)return Ye[Le.CANVAS];if(E.actionType===I.GROUP||E.actionType===I.UN_GROUP)return`${Ye[E.actionType]}`;if(E.historyData.length)return`${Ye[E.actionType]} - ${E.historyData[0].chartConfig.title}`},b=M(()=>{const k=c.getBackStack.map(O=>({label:f(O),icon:C(O)}));return Do(k.filter(O=>O.label))});return(E,k)=>{const O=D("n-button"),G=D("n-icon"),se=D("n-text"),P=D("n-scrollbar"),m=D("n-popover"),R=D("n-tooltip");return w(),Y("div",$o,[T(m,{class:"edit-history-popover","show-arrow":!1,size:"small",trigger:"click",placement:"top-start"},{trigger:x(()=>[T(O,{class:"mr-10",secondary:"",size:"small",disabled:b.value.length===0},{default:x(()=>[Mo]),_:1},8,["disabled"])]),default:x(()=>[$("div",Ro,[T(P,{style:{"max-height":"500px"}},{default:x(()=>[(w(!0),Y(re,null,ue(b.value,(y,L)=>(w(),Y("div",{class:"list-item go-flex-items-center go-ellipsis-1",key:L,title:y.label},[T(G,{class:"item-icon",size:"16",depth:2,component:y.icon},null,8,["component"]),T(se,{depth:"2"},{default:x(()=>[ve(Q(y.label),1)]),_:2},1024)],8,Uo))),128))]),_:1}),Oo])]),_:1}),T(R,{trigger:"hover"},{trigger:x(()=>[T(G,{size:"21",depth:3},{default:x(()=>[T(a(v))]),_:1})]),default:x(()=>[$("span",null,"æœ€å¤šåªä¿ç•™"+Q(a(Et))+"æ¡è®°å½•",1)]),_:1})])}}});const Ao=ee(Ho,[["__scopeId","data-v-78517dbe"]]),Ve=e=>(Me("data-v-bbdb0a72"),e=e(),Re(),e),Po=Ve(()=>$("th",null,"åŠŸèƒ½",-1)),Yo=Ve(()=>$("th",null,"Win å¿«æ·é”®",-1)),Xo=Ve(()=>$("span",null," Mac å¿«æ·é”® ",-1)),Bo={key:0},No={key:1},Go=j({__name:"ShortcutKeyModal",props:{modelShow:Boolean},emits:["update:modelShow"],setup(e,{emit:o}){const{CloseIcon:s}=le.ionicons5,_=X(!1),t=o,h=e;ae(()=>h.modelShow,p=>{_.value=p});const l=[{label:"æ‹–æ‹½ç”»å¸ƒ",win:`${N.SPACE.toUpperCase()} + ðŸ–±ï¸ `,mac:`${K.SPACE.toUpperCase()} + ðŸ–±ï¸ `,macSource:!0},{label:"å‘ ä¸Š/å³/ä¸‹/å·¦ ç§»åŠ¨",win:`${N.CTRL.toUpperCase()} + â†‘ æˆ– â†’ æˆ– â†“ æˆ– â†`,mac:`${K.CTRL.toUpperCase()} + â†‘ `},{label:"é”å®š",win:`${N.CTRL.toUpperCase()} + L `,mac:`${K.CTRL.toUpperCase()} + L `},{label:"è§£é”",win:`${N.CTRL.toUpperCase()} + ${N.SHIFT.toUpperCase()}+ L `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + L `},{label:"å±•ç¤º",win:`${N.CTRL.toUpperCase()} + H `,mac:`${K.CTRL.toUpperCase()} + H `},{label:"éšè—",win:`${N.CTRL.toUpperCase()} + ${N.SHIFT.toUpperCase()} + H `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + H `},{label:"åˆ é™¤",win:"Delete".toUpperCase(),mac:`${K.CTRL.toUpperCase()} + Backspace `},{label:"å¤åˆ¶",win:`${N.CTRL.toUpperCase()} + C `,mac:`${K.CTRL.toUpperCase()} + C `},{label:"å‰ªåˆ‡",win:`${N.CTRL.toUpperCase()} + X `,mac:`${K.CTRL.toUpperCase()} + X `},{label:"ç²˜è´´",win:`${N.CTRL.toUpperCase()} + V `,mac:`${K.CTRL.toUpperCase()} + V `},{label:"åŽé€€",win:`${N.CTRL.toUpperCase()} + Z `,mac:`${K.CTRL.toUpperCase()} + Z `},{label:"å‰è¿›",win:`${N.CTRL.toUpperCase()} + ${N.SHIFT.toUpperCase()} + Z `,mac:`${K.CTRL.toUpperCase()} + ${K.SHIFT.toUpperCase()} + Z `},{label:"ä¿å­˜",win:`${N.CTRL.toUpperCase()} + S `,mac:`${K.CTRL.toUpperCase()} + S `},{label:"å¤šé€‰",win:`${N.CTRL.toUpperCase()} + ðŸ–±ï¸ `,mac:`${K.CTRL.toUpperCase()} + ðŸ–±ï¸ `},{label:"åˆ›å»ºåˆ†ç»„",win:`${N.CTRL.toUpperCase()} + G / ðŸ–±ï¸ `,mac:`${K.CTRL.toUpperCase()} + G / ðŸ–±ï¸`},{label:"è§£é™¤åˆ†ç»„",win:`${N.CTRL.toUpperCase()} + ${N.SHIFT.toUpperCase()} + G `,mac:`${K.CTRL.toUpperCase()} + ${N.SHIFT.toUpperCase()} + G `}],v=()=>{t("update:modelShow",!1)};return(p,i)=>{const d=D("n-icon"),r=D("n-space"),n=D("n-gradient-text"),g=D("n-table"),u=D("n-modal");return w(),B(u,{show:_.value,"onUpdate:show":i[0]||(i[0]=c=>_.value=c),"mask-closable":!0,onAfterLeave:v},{default:x(()=>[T(g,{class:"model-content",bordered:!1,"single-line":!1},{default:x(()=>[$("thead",null,[$("tr",null,[Po,Yo,$("th",null,[T(r,{justify:"space-between"},{default:x(()=>[Xo,T(d,{size:"20",class:"go-cursor-pointer",onClick:v},{default:x(()=>[T(a(s))]),_:1})]),_:1})])])]),$("tbody",null,[(w(),Y(re,null,ue(l,(c,C)=>$("tr",{key:C},[$("td",null,Q(c.label),1),$("td",null,Q(c.win),1),c.macSource?(w(),Y("td",Bo,Q(c.mac),1)):(w(),Y("td",No,[T(n,{size:22},{default:x(()=>[ve(Q(c.mac.substr(0,1)),1)]),_:2},1024),ve(" + "+Q(c.mac.substr(3)),1)]))])),64))])]),_:1})]),_:1},8,["show"])}}});const Ko=ee(Go,[["__scopeId","data-v-bbdb0a72"]]),Fo=e=>(Me("data-v-f48c63d8"),e=e(),Re(),e),zo={class:"go-edit-shortcut"},Wo=Fo(()=>$("span",null,"å¿«æ·é”®",-1)),Vo=j({__name:"index",setup(e){const{DicomOverlayIcon:o}=le.carbon,s=X(!1);return(_,t)=>{const h=D("n-icon"),l=D("n-button"),v=D("n-tooltip");return w(),Y("div",zo,[T(Ko,{modelShow:s.value,"onUpdate:modelShow":t[0]||(t[0]=p=>s.value=p)},null,8,["modelShow"]),T(v,{trigger:"hover"},{trigger:x(()=>[T(l,{class:"scale-btn",secondary:"",size:"small",onClick:t[1]||(t[1]=p=>s.value=!0)},{default:x(()=>[T(h,{size:"21",depth:3},{default:x(()=>[T(a(o))]),_:1})]),_:1})]),default:x(()=>[Wo]),_:1})])}}});const qo=ee(Vo,[["__scopeId","data-v-f48c63d8"]]),jo={class:"go-edit-data-sync go-flex-items-center"},Jo=j({__name:"index",setup(e){he(d=>({"07b59586":h.value}));const{ReloadIcon:o}=le.ionicons5,s=te(),_=ge(),{saveStatus:t}=ye(s.getEditCanvas),h=X(_.getAppTheme),l=X(""),v=X("");let p=setTimeout(()=>{});const i={[pe.PENDING]:{text:"ç­‰å¾…è‡ªåŠ¨åŒæ­¥",type:""},[pe.START]:{text:"æ­£åœ¨åŒæ­¥ä¸­",type:"success"},[pe.SUCCESS]:{text:"åŒæ­¥æˆåŠŸï¼",type:"success"},[pe.FAILURE]:{text:"åŒæ­¥å¤±è´¥!",type:"error"}};return ae(()=>t.value,d=>{clearTimeout(p),l.value=i[d].text,v.value=i[d].type,p=setTimeout(()=>{l.value=i[pe.PENDING].text,v.value=i[pe.PENDING].type},3e3)},{immediate:!0}),(d,r)=>{const n=D("n-text"),g=D("n-tooltip"),u=D("n-icon"),c=D("n-spin");return w(),Y("div",jo,[T(g,{trigger:"hover"},{trigger:x(()=>[T(n,{class:"status-desc go-ml-2",type:v.value,depth:"3"},{default:x(()=>[ve(Q(l.value),1)]),_:1},8,["type"])]),default:x(()=>[$("span",null,Q(a(Lt))+"s æ›´æ–°ä¸€æ¬¡",1)]),_:1}),be(T(c,{class:"go-ml-2",size:"small"},{icon:x(()=>[T(u,{size:"13"},{default:x(()=>[T(a(o))]),_:1})]),_:1},512),[[Ee,l.value===i[1].text]])])}}});const Zo=ee(Jo,[["__scopeId","data-v-18522cbc"]]),Qo={class:"go-edit-bottom"},es=j({__name:"index",setup(e){he(b=>({"66b99d9b":t.value}));const{LockClosedOutlineIcon:o,LockOpenOutlineIcon:s}=le.ionicons5,_=ge(),t=X(_.getAppTheme),h=dt(),l=te(),{lockScale:v,scale:p}=ye(l.getEditCanvas),i=X(null);let d=[{label:"200%",value:200},{label:"150%",value:150},{label:"100%",value:100},{label:"50%",value:50},{label:"è‡ªé€‚åº”",value:0}];const r=X(""),n=b=>{var E;if((E=i.value)==null||E.blur(),b===0){h.setItemUnHandle(pt.RE_POSITION_CANVAS,!0),l.computedScale();return}l.setScale(b/100)},g=()=>{l.setEditCanvas(V.LOCK_SCALE,!v.value)},u=X(100),c=b=>`${b}%`,C=b=>{l.setScale(b/100)},f=ze({100:""});return kt(()=>{const b=(p.value*100).toFixed(0);r.value=`${b}%`,u.value=parseInt(b)}),(b,E)=>{const k=D("n-text"),O=D("n-divider"),G=D("n-space"),se=D("n-select"),P=D("n-icon"),m=D("n-button"),R=D("n-tooltip"),y=D("n-slider");return w(),Y("div",Qo,[T(G,null,{default:x(()=>[T(a(Ao)),T(k,{id:"keyboard-dress-show",depth:"3"}),T(O,{vertical:""}),T(a(Zo))]),_:1}),T(G,{class:"bottom-ri"},{default:x(()=>[T(a(qo)),T(se,{ref_key:"selectInstRef",ref:i,class:"scale-btn",value:r.value,"onUpdate:value":[E[0]||(E[0]=L=>r.value=L),n],size:"mini",disabled:a(v),options:a(d)},null,8,["value","disabled","options"]),T(R,{trigger:"hover"},{trigger:x(()=>[T(m,{onClick:g,text:""},{default:x(()=>[T(P,{class:ne(["lock-icon",{color:a(v)}]),size:"18",depth:2},{default:x(()=>[a(v)?(w(),B(a(o),{key:0})):(w(),B(a(s),{key:1}))]),_:1},8,["class"])]),_:1})]),default:x(()=>[$("span",null,Q(a(v)?"è§£é”":"é”å®š")+"å½“å‰æ¯”ä¾‹",1)]),_:1}),T(y,{class:"scale-slider",value:u.value,"onUpdate:value":[E[1]||(E[1]=L=>u.value=L),C],"default-value":50,min:10,max:200,step:5,"format-tooltip":c,disabled:a(v),marks:f},null,8,["value","disabled","marks"])]),_:1})])}}});const ts=ee(es,[["__scopeId","data-v-b2aae0a1"]]),Ce=te(),os=()=>{Ce.setTargetSelectChart(void 0),It(Dt(Ce.getStorageInfo()||[]),void 0,"json");const e=document.querySelector(".go-edit-range"),o=document.getElementById("go-edit-watermark");if(!e||!o){window.$message.error("å¯¼å‡ºå¤±è´¥ï¼");return}const s=Ce.getEditCanvas.scale;Ce.setScale(1,!0),o.style.display="block",setTimeout(()=>{$t(e,()=>{o&&(o.style.display="none"),Ce.setScale(s,!0)})},600)},ss=()=>{const e=X(),{updateComponent:o}=ut();return{importUploadFileListRef:e,importBeforeUpload:({file:t})=>{e.value=[];const h=t.file.type;return h!==st.JSON&&h!==st.TXT?(window.$message.warning("ä»…æ”¯æŒä¸Šä¼  ã€JSONã€‘ æ ¼å¼æ–‡ä»¶ï¼Œè¯·é‡æ–°ä¸Šä¼ ï¼"),!1):!0},importCustomRequest:t=>{const{file:h}=t;Mt(()=>{h.file?Rt(h.file).then(l=>{jt({message:"è¯·é€‰æ‹©å¯¼å…¥æ–¹å¼:",positiveText:"æ–°å¢žï¼ˆå¯æ’¤å›žï¼‰",negativeText:"è¦†ç›–ï¼ˆä¸å¯æ’¤å›žï¼‰",negativeButtonProps:{type:"info",ghost:!1},onPositiveCallback:()=>de(void 0,null,function*(){try{l=Xe(l),yield o(l,!1,!0),window.$message.success("å¯¼å…¥æˆåŠŸï¼")}catch(v){console.log(v),window.$message.error("ç»„ä»¶å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§!")}}),onNegativeCallback:()=>de(void 0,null,function*(){try{l=Xe(l),yield o(l,!0,!0),window.$message.success("å¯¼å…¥æˆåŠŸï¼")}catch(v){console.log(v),window.$message.error("ç»„ä»¶å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶å®Œæ•´æ€§!")}})})}):window.$message.error("å¯¼å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æˆ–è”ç³»ç®¡ç†å‘˜ï¼")})}}};var ce=(e=>(e.BUTTON="button",e.IMPORTUPLOAD="importUpload",e))(ce||{});const ns={class:"btn-item"},as=j({__name:"index",setup(e){const{DownloadIcon:o,ShareIcon:s,PawIcon:_,SettingsSharpIcon:t,CreateIcon:h}=le.ionicons5,l=lt(),v=te();Ut(),Qt();let p=null;const i=X(!1),d=X(!0),r=X(!0),{importUploadFileListRef:n,importCustomRequest:g,importBeforeUpload:u}=ss(),c=M(()=>l.getChartToolsStatus===et.ASIDE),C=M(()=>l.getChartToolsStatusHide),f=M(()=>d.value&&C.value),b=M(()=>{if(!c.value)return se;const P=[];return se.map(m=>{P.unshift(m)}),P}),E=()=>{p=setTimeout(()=>{d.value&&(d.value=!1,r.value=!0)},200),setTimeout(()=>{r.value=!1},400)},k=()=>{clearTimeout(p),d.value||(d.value=!0)},O=()=>{window.$message.warning("è¯·é€šè¿‡é¡¶éƒ¨ã€åŒæ­¥å†…å®¹ã€‘æŒ‰é’®åŒæ­¥æœ€æ–°æ•°æ®ï¼"),v.setEditCanvas(V.IS_CODE_EDIT,!0),setTimeout(()=>{const P=Ht(At.CHART_EDIT_NAME,"href");if(!P)return;const m=Pt();G(m),Yt(P,[m],void 0,!0)},2e3)},G=P=>{const m=v.getStorageInfo(),R=Xt(we.GO_CHART_STORAGE_LIST)||[];if(R!=null&&R.length){const y=R.findIndex(L=>L.id===P);y!==-1?(R.splice(y,1,fe(A({},m),{id:P})),Ae(we.GO_CHART_STORAGE_LIST,R)):(R.push(fe(A({},m),{id:P})),Ae(we.GO_CHART_STORAGE_LIST,R))}else Ae(we.GO_CHART_STORAGE_LIST,[fe(A({},m),{id:P})])},se=[{key:"import",type:ce.IMPORTUPLOAD,name:"å¯¼å…¥",icon:s},{key:"export",type:ce.BUTTON,name:"å¯¼å‡º",icon:o,handle:os},{key:"edit",type:ce.BUTTON,name:"ç¼–è¾‘",icon:h,handle:O},{key:"setting",type:ce.BUTTON,name:"è®¾ç½®",icon:t,handle:()=>{i.value=!0}}];return(P,m)=>{const R=D("n-icon"),y=D("n-text"),L=D("n-button"),U=D("n-upload"),W=D("n-tooltip");return w(),Y(re,null,[$("div",{class:ne(["go-chart-edit-tools",[a(l).getChartToolsStatus,f.value?"isMini":"unMini"]]),onClick:m[1]||(m[1]=H=>d.value&&(d.value=!1)),onMouseenter:E,onMouseleave:k},[be(T(R,{class:"asideLogo",size:"22"},{default:x(()=>[T(a(_))]),_:1},512),[[Ee,a(l).getChartToolsStatus===a(et).ASIDE&&f.value]]),(w(!0),Y(re,null,ue(b.value,(H,Se)=>(w(),B(W,{key:H.key,disabled:!c.value||C.value&&r.value,trigger:"hover",placement:"left"},{trigger:x(()=>[$("div",ns,[H.type===a(ce).BUTTON?(w(),B(L,{key:0,circle:c.value,secondary:"",onClick:H.handle},{icon:x(()=>[c.value?(w(),B(R,{key:0,size:"22"},{default:x(()=>[(w(),B(_e(H.icon)))]),_:2},1024)):(w(),B(_e(H.icon),{key:1}))]),default:x(()=>[be(T(y,{depth:"3"},{default:x(()=>[ve(Q(H.name),1)]),_:2},1536),[[Ee,!c.value]])]),_:2},1032,["circle","onClick"])):H.type===a(ce).IMPORTUPLOAD?(w(),B(U,{key:1,"file-list":a(n),"onUpdate:fileList":m[0]||(m[0]=z=>Ot(n)?n.value=z:null),"show-file-list":!1,customRequest:a(g),onBeforeUpload:a(u)},{default:x(()=>[T(L,{circle:c.value,secondary:""},{icon:x(()=>[c.value?(w(),B(R,{key:0,size:"22"},{default:x(()=>[(w(),B(_e(H.icon)))]),_:2},1024)):(w(),B(_e(H.icon),{key:1}))]),default:x(()=>[be(T(y,{depth:"3"},{default:x(()=>[ve(Q(H.name),1)]),_:2},1536),[[Ee,!c.value]])]),_:2},1032,["circle"])]),_:2},1032,["file-list","customRequest","onBeforeUpload"])):$e("",!0)])]),default:x(()=>[$("span",null,Q(H.name),1)]),_:2},1032,["disabled"]))),128))],34),T(a(Zt),{modelShow:i.value,"onUpdate:modelShow":m[2]||(m[2]=H=>i.value=H)},null,8,["modelShow"])],64)}}});const rs=ee(as,[["__scopeId","data-v-62b1993f"]]),cs=j({__name:"index",setup(e){const o=te(),{handleContextMenu:s}=We(),{dataSyncFetch:_,intervalDataSyncUpdate:t}=ut();Bt(),Nt(zt,null),eo(()=>de(this,null,function*(){}));const{mouseenterHandle:h,mouseleaveHandle:l,mousedownHandle:v,mouseClickHandle:p}=vt(),i=(g,u,c)=>{if(o.getTargetChart.selectId.length>1)return u.filter(f=>[Z.GROUP,Z.DELETE].includes(f.key));const C=[];return c.status.lock?C.push(Z.LOCK):C.push(Z.UNLOCK),c.status.hide?C.push(Z.HIDE):C.push(Z.SHOW),g.filter(f=>!C.includes(f.key))},d=M(()=>o.getEditCanvasConfig.chartThemeSetting),r=M(()=>rt(o.getEditCanvasConfig.chartCustomThemeColorInfo)[o.getEditCanvasConfig.chartThemeColor]);M(()=>o.getEditCanvasConfig.filterShow);const n=M(()=>{const g=o.getEditCanvasConfig.background,u=o.getEditCanvasConfig.backgroundImage,f=o.getEditCanvasConfig.selectColor?{background:g||void 0}:{background:`url(${u}) no-repeat center center / cover !important`};return fe(A({},f),{width:"inherit",height:"inherit"})});return Ke(()=>{Wt(),_()}),(g,u)=>(w(),B(a(Jt),{id:"go-chart-edit-layout",flex:!0,showTop:!1,showBottom:!0,depth:1,xScroll:!0,disabledScroll:!0,onMousedown:a(_t),onDrop:a(oo),onDragover:a(nt),onDragenter:a(nt)},{aside:x(()=>[T(a(rs))]),bottom:x(()=>[T(a(ts))]),default:x(()=>[T(a(bo),null,{default:x(()=>[$("div",{id:"go-chart-edit-content",onContextmenu:u[0]||(u[0]=(...c)=>a(s)&&a(s)(...c))},[T(a(xo),null,{default:x(()=>[$("div",{style:q(A(A({},a(ke)(a(o).getEditCanvasConfig)),n.value))},[(w(!0),Y(re,null,ue(a(o).getComponentList,(c,C)=>(w(),Y("div",{key:c.id},[c.isGroup?(w(),B(a(io),{key:0,groupData:c,groupIndex:C},null,8,["groupData","groupIndex"])):(w(),B(a(Ge),{key:1,"data-id":c.id,index:C,style:q(A(A({},a(De)(c.attr,C)),a(ct)(c.styles))),item:c,onClick:f=>a(p)(f,c),onMousedown:f=>a(v)(f,c),onMouseenter:f=>a(h)(f,c),onMouseleave:f=>a(l)(f,c),onContextmenu:f=>a(s)(f,c,i)},{default:x(()=>[(w(),B(_e(c.chartConfig.chartKey),{class:ne(["edit-content-chart",a(Be)(c.styles.animations)]),chartConfig:c,themeSetting:d.value,themeColor:r.value,style:q(A(A(A({},a(ie)(c.attr)),a(ke)(c.styles)),a(Ne)(c.styles)))},null,8,["class","chartConfig","themeSetting","themeColor","style"]))]),_:2},1032,["data-id","index","style","item","onClick","onMousedown","onMouseenter","onMouseleave","onContextmenu"]))]))),128))],4)]),_:1})],32)]),_:1})]),_:1},8,["onMousedown","onDrop","onDragover","onDragenter"]))}});const $s=ee(cs,[["__scopeId","data-v-3071f68c"]]);export{$s as default};
